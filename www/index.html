<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
	</head>
	<link rel="stylesheet" href="css/public.css" />
	<style>
		.titile{
			font-size: 0.28rem;
		}
		.listshow{
			background: #efeff4;
			border-radius: 0.05rem;
			padding: 0.09rem 0.08rem;
			position: relative;
			box-sizing: border-box;
			margin-bottom: 0.1rem;
		}
		.content{
			color: #010101;
			overflow:hidden; 
			text-overflow:ellipsis;
			display:-webkit-box; 
			-webkit-box-orient:vertical;
			-webkit-line-clamp:2; 
		}
		.time{
			color: #ababae;
			margin-bottom: 0.1rem;
		}
		.rightbubble{
			right: -0.18rem;
			border-color:transparent transparent transparent #efeff4; 
			bottom:0.08rem;
		}
		.leftbubble{
			left:-0.18rem;
			border-color:transparent #efeff4 transparent transparent; 
			top:0.08rem
		}
		.addbuble{
			position: absolute;
			width:0;
			height:0;
			border-width:0.1rem;
		    border-style:solid dashed dashed; 
		    font-size:0; 
		    line-height:0;
		}
		.bottomlist{
			height: 0.48rem;
			background: #fff;
			position: fixed;
			bottom: 0;
			left: 0;
			width: 100%;
			padding:0 0.18rem;
			box-sizing: border-box;
			color: #e36978;
			font-size: 0.18rem;
		}
		.bottomcenter{
			font-size: 0.2rem;
			width: 0.4rem;
			height: 0.4rem;
			background:#e36978 ;
			color: #fff;
			border-radius:50% ;
		}
		.top{
			position: fixed;
			z-index: 888;
			display: none;
			opacity: 0;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			color: red;
			  /*background: -webkit-linear-gradient(left,#506B94 0%, #5D78A1 25%,#6C87B0 50%,#5D78A1 75%,#506B94 100%); 
			  background: -o-linear-gradient(left,#506B94 0%, #5D78A1 25%,#6C87B0 50%,#5D78A1 75%,#506B94 100%);
			  background: -moz-linear-gradient(left,#506B94 0%, #5D78A1 25%,#6C87B0 50%,#5D78A1 75%,#506B94 100%); 
			  background: linear-gradient(to right,#506B94 0%, #5D78A1 25%,#6C87B0 50%,#5D78A1 75%,#506B94 100%);*/
			 background: #efeff4;
		}
		.searchhtml{
			position: fixed;
			z-index: 777;
			left: -100%;
			top: 0;
			width: 100%;
			height: 100%;
			background: #fff;
			display: none;
		}
		.searchcontent{
			max-height: 100%;
			overflow-y: auto;
			overflow-x: hidden;
			position: relative;
		}
		.search{
			height: 0.48rem;
			width: 100%;
			border: 0;
			background: #efeff4;
			color: #010101;
			font-size: 0.18rem;
			padding-left:3% ;
			box-sizing: border-box;
		}
		.searchlist{
			display: none;
			margin-top: 0.1rem;
		}
		.totop{
			position: absolute;
			right: 0.2rem;
			top: 0.05rem;
		}
		.totop>img{
			width: 0.3rem;
			height: 0.3rem;
		}
		input::-webkit-input-placeholder { /* WebKit browsers*/ 
		　　color:#c7c7d1;
		　　}
		input:-moz-placeholder {  /* Mozilla Firefox 4 to 18*/ 
		　　color:#c7c7d1;
		　　}
		input::-moz-placeholder {  /* Mozilla Firefox 19+*/ 
		　　color:#c7c7d1;
		　　}
		input:-ms-input-placeholder { /* Internet Explorer 10+*/ 
		　　color:#c7c7d1;
		}
		input {outline:none;}
		.model{
			position: fixed;
			display: none;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			z-index: 999;
		}
		.question{
			position: fixed;left: 0;top: 0;
			width: 100%;
			height: 100%;
			background: #fff;
			z-index: 1000;
			display: none;
		}
		.questioncontent{
			width: 2rem;
			height: 1.5rem;
			position: absolute;
			left: 50%;
			top: 50%;
			transform: translate(-50%,-50%);
		}
		.answer{
			display: block;
			margin: 0 auto;
			border: 1px solid #000;
			outline: none;
		}
		.questionbtn{
			text-align: center;
			width: 1.2rem;
			margin: 0 auto;
			background: #FF0000;
			color: #fff;
			margin-top: 0.2rem;
			padding: 0.05rem 0;
			border-radius:0.1rem ;
		}
	</style>
	<body>
		<div class="bg">
		</div>
		<div class="all">
			<div class="listshow">
				<div class="time">
					2018年5月16日 22:51 星期三
				</div>
					<div class="totop">
						<img src="img/totopfalse.png" alt="" />
					</div>
				<div class="content">
					编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛
				</div>
				<div class="rightbubble addbuble"></div>
			</div>
			<div class="listshow">
				<div class="time">
					2018年5月16日 22:51 星期三
				</div>
				<div class="totop">
						<img src="img/totopfalse.png" alt="" />
					</div>
				<div class="content">
					编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛
				</div>
				<div class="leftbubble addbuble"></div>
			</div>
			<div class="listshow">
				<div class="time">
					2018年5月16日 22:51 星期三
				</div>
				<div class="totop">
						<img src="img/totopfalse.png" alt="" />
					</div>
				<div class="content">
					编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛
				</div>
				<div class="leftbubble addbuble"></div>
			</div>
		</div>
		<div class="top flex allcenter column">
			<div style="font-size: 0.2rem;margin-bottom: 0.2rem;">我们在一起already</div>
			<div class="timeshowin" style="font-size: 0.25rem;"></div>
			<div class="bottomlist flex allcenter"  style="bottom: 1rem;background: transparent;">
				<div class="bottomcenter flex allcenter back">退</div>
			</div>
		</div>
		<div class="searchhtml">
			<div class="searchcontent">
				<input type="text"  class="search" placeholder="搜索"/>
				<div class="listshow searchlist">
					<div class="time">
						2018年5月16日 22:51 星期三
					</div>
					<div class="content">
						编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛
					</div>
					<div class="rightbubble addbuble"></div>
				</div>
				<div class="listshow searchlist">
					<div class="time">
						2018年5月16日 22:51 星期三
					</div>
					<div class="content">
						编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛编辑成功了呀琛琛
					</div>
					<div class="leftbubble addbuble"></div>
				</div>
			</div>
		</div>
		<div class="bottomlist flex heightcenter between">
			<div class="searchgo">搜</div>
			<div class="bottomcenter flex allcenter editgo">攥</div>
			<div class="timeshow">時</div>
		</div>
		<div class="model">
			<div class="loader">
			    <svg class="circular" viewBox="25 25 50 50">
			      <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
			    </svg>
			</div>
		</div>
		<div class="question">
			<div class="questioncontent">
				<span style="display: block;text-align: center;margin-bottom: 0.2rem;">你另一半名字叫啥呀，好好回答，这是一辈子的事哟</span>
				<input type="text" class="answer"/>
				<div class="questionbtn">我愿意我愿意</div>
			</div>
		</div>
	</body>
</html>
<script src="js/jquery.min.js"></script>
<script src="js/lovechen.js"></script>
<script type="text/javascript">
	/*var tanchu = new Tanchu({
		title:"编辑成功了呀琛琛"
	})*/
	if(!localStorage.getItem("islogin")){
		$(".question").show()
	}else{
		getList()
	}
	$(".questionbtn").click(function(){
		if($(".answer").val() == "胡涛"){
			localStorage.setItem("id",1)
			localStorage.setItem("islogin",true)
			$(".question").hide(500)
		}else if($(".answer").val() == "许亚琛"){
			localStorage.setItem("id",2)
			localStorage.setItem("islogin",true)
			$(".question").hide(500)
		}
	})
	$(".model").on('touchmove',function(e){
		var e = e || event;
		e.preventDefault();
		e.stopPropagation();
	})
	$('.searchhtml').height($('.searchhtml').height());
	$(".editgo").click(()=>{
		var data = {
			type:"add"
		}
		data = JSON.stringify(data);
		location.href = "detail.html?data="+data
	})
	//更改置顶
	$(".totop>img").click(function(){
		if($(this).attr("src").indexOf("false") > -1){
			$(this).attr("src","img/totoptrue.png")
		}else{
			$(this).attr("src","img/totopfalse.png")
		}
	})
	$(".timeshow").click(()=>{
		$(".top").css({"display":"flex"})
		setTimeout(()=>{
			$(".top").animate({"opacity":"1"},1000)
		},0)
	})
	$(".back").click(()=>{
		$(".top").animate({"opacity":"0"},1000)
		setTimeout(()=>{
			$(".top").css({"display":"none"})
		},1000)
	})
	$(".searchgo").click(()=>{
		$(".searchhtml").css({"display":"block"})
		setTimeout(()=>{
			$(".searchhtml").animate({"left":"0%"},1000)
		},0)
	})
	$(".searchhtml").click(()=>{
		$(".searchhtml").animate({"left":"-100%"},1000)
//		$(".searchlist").remove()
		setTimeout(()=>{
			$(".searchhtml").css({"display":"none"})
		},1000)
	})
	$(".searchcontent").click((event)=>{
		event.stopPropagation(); 
	})
	$(".search").keyup(function(event){
	  if(event.keyCode ==13){
	    $(".searchlist").show()
	  }
	});
	//时间展示
	var that = new Date("2018/5/10 01:51:00").getTime()
	var now = new Date().getTime();
	var during = parseInt((now - that)/1000)
	timeget(during)
	function timeget(during){
		var days = parseInt(during/60/60/24)
		during-=days*60*60*24
		var h = parseInt(during/60/60)
		during-=h*60*60
		var min = parseInt(during/60)
		during-=min*60
		var s = during
		if(s >= 60){
				s = 0;
				min++;
				if(min >= 60){
					min = 0;
					h++;
					if(h >= 24){
						h = 0;
						day++
					}else{edittime(days,h,min,s)}
				}else{edittime(days,h,min,s)}
			}else{
				edittime(days,h,min,s)
			}
		setInterval(()=>{
			s++;
			if(s >= 60){
				s = 0;
				min++;
				if(min >= 60){
					min = 0;
					h++;
					if(h >= 24){
						h = 0;
						day++
					}else{edittime(days,h,min,s)}
				}else{edittime(days,h,min,s)}
			}else{
				edittime(days,h,min,s)
			}
		},1000)
	}
	function edittime(days,h,min,s){
		var dayst = days,ht = h,mint = min,st = s;
		if(ht < 10){
			ht = "0"+h;
		}
		if(mint < 10){
			mint = "0"+min;
		}
		if(st < 10){
			st = "0"+s
		}
		$(".timeshowin").html(dayst+"天"+ht+"时"+mint+"分"+st+"秒") 
	}
	//获取list
	function getList(){
		console.log(111)
		/*var data = {
			id:localStorage.getItem("id")
		}*/
		var data = 'id='+localStorage.getItem("id")
		$.ajax({type:"get",
				url:'http://47.106.173.93:8080/House/rest/api/memorandum/GetMemorandum.json',
				data:data,
//				contentType:"application/json",
				contentType:"application/x-www-form-urlencoded;charset=UTF-8",
				success:function(res){
					console.log(res)
				}})
	}
	
</script>